@model Todo_List.ViewModels.ProfileModel

@section Styles {
    <link rel="stylesheet" href="~/css/profile.css" />
}
@if (ViewBag.Message != null)
{
    <div id="alertMessage" class="alert">
        @ViewBag.Message
    </div>
}
<div class="container">
    <aside class="sidebar">
        <div class="profile">
            <img id="avatar" src="@(string.IsNullOrEmpty(Model.UpdateProfile.Avatar) ? Url.Content("~/uploads/user-default.webp") : Model.UpdateProfile.Avatar)" alt="Avatar">
            <h3>@Model.UpdateProfile.Fullname</h3>
        </div>
        <ul class="menu">
            <li><a href="#" class="@(ViewBag.ActiveTab == "account" || ViewBag.ActiveTab == null ? "active" : "")" data-target="account"><i class="fa-solid fa-user"></i> Tài khoản</a></li>
            <li><a href="#" class="@(ViewBag.ActiveTab == "password" ? "active" : "")" data-target="password"><i class="fa-solid fa-lock"></i> Mật khẩu</a></li>
            <li><a asp-controller="Task" asp-action="Logout"><i class="fa-solid fa-right-from-bracket"></i> Đăng xuất</a></li>
        </ul>
    </aside>

    <main class="content">
        <div id="account" class="form-section @(ViewBag.ActiveTab == "account" || ViewBag.ActiveTab == null ? "active" : "")">
            @await Html.PartialAsync("_UpdateProfile", Model.UpdateProfile)
        </div>

        <div id="password" class="form-section @(ViewBag.ActiveTab == "password" ? "active" : "")">
            @await Html.PartialAsync("_ChangePassword", Model.ChangePassword)
        </div>
    </main>
</div>

@section Scripts {
    <script src="~/js/profile.js"></script>
    <script src="~/js/notification.js"></script>
}
